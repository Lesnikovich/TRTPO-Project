# Поток событий
---

# Содержание
1 [Актёры](#actors)  
2 [Варианты использования](#use_case)  
2.1 [Добавление контакта](#add_kontakt)  
2.2 [Заполнение данных в формы](#filling_forms)  
2.3 [Сохранение и закрытие](#Save_and_close)  
2.4 [Отмена и закрытие](#Cancellation_and_closure)  
2.5 [Редактирование контакта](#Editing_a_contact)</br>
2.6 [Редактирование данных в формах](#Editing_data_in_forms)  
2.7 [Сохранение изменений и закрытие](#Save_changes_and_close)  
2.8 [Отмена изменений и закрытие](#Cancel_changes_and_close)  
2.9 [Удаление записи и закрытие](#Delete_entry_and_close)  
2.10 [Открытие отчёта](#Opening_a_report)  
2.11 [Осуществление звонка](#Making_a_call)</br>
2.12 [Поиск, сортировка и фильтрация](#Search,_sort_and_filter)  
2.13 [Использование поисковой строки](#Using_the_search_bar)  
2.14 [Сброс поиска](#Reset_search)  
2.15 [Критерий поиска по полям БД](#Search_criterion_for_database_fields)  
2.16 [Критерий поиска по совпадению](#Matching_Criteria)  
2.17 [Сортировка по алфавиту](#Sort_alphabetically)</br>
2.18 [Переход по найденным контактам](#Navigation_by_found_contacts)        

<a name="actors"/>

# 1 Актёры

| Актёр | Описание |
|:--|:--|
| Пользователь | Человек, использующий телефонный справочник |

<a name="use_case"/>

# 2 Варианты использования

<a name="add_kontakt"/>

## 2.1 Добавление контакта
**Описание.** Вариант использования "Добавление контакта" позволяет пользователю добавить контакт в телефонный справочник.

**Основной поток.**
1. Вариант использования начинается, когда пользователь нажимает на кнопку "Добавить контакт" на главной форме приложения;
2. Приложение отображает окно "Добавление контакта", которое предлагает пользователю следующий функционал: заполнить данными пустые поля для ввода данных нового контакта по категориям; сохранить введённые данные в базу данных и вернуться на главную форму; отменить ввод данных и вернуться на главную форму.
3. Пользователь вводит данные в соответствующие пустые поля по категориям.
4. Пользователь нажимает на кнопку "Сохранить и закрыть".
5. Приложение сохраняет новый контакт в базу данных.
6. Приложение закрывает окно "Добавление контакта" и производит возврат на главную форму.
7. Вариант использования завершается.

**Дополнительная информация.** Пользователь имеет возможность отменить действие до нажатия кнопки "Сохранить и закрыть", при помощи нажатия конпки "Отменить и закрыть".

<a name="filling_forms"/>

## 2.2 Заполнение данных в формы
**Описание.** Вариант использования "Заполениение данных в формы" позволяет пользователю заполнить информацией о новом контакте пустые формы по категориям.

**Предусловие** Пользователь нажал на кнопку "Добавить контакт" на главной форме приложения.

**Основной поток.**
1. Вариант использования начинается, когда пользователь нажимает на кнопку "Добавить контакт" на главной форме приложения;
2. Пользователь заполняет информацией о новом контакте пустые формы по категориям.
3. Вариант использования завершается.

**Дополнительная информация.** 
Необязательно сразу заполнять все поля, в любом случае существует возможность их дозаполнить при редактировании данных о контакте.

<a name="Save_and_close"/>

## 2.3 Сохранение и закрытие 
**Описание.** Вариант использования "Сохранение и закрытие" позволяет пользователю сохранить все данные в полях для ввода данных нового контакта (новой записи) по категориям, в соответствующих полях базы данных, с последующим закрытием окна "Добавление контакта".

**Предусловие** Пользователь ввёл данные в поля для ввода данных нового контакта (новой записи) по категориям.

**Основной поток.**
1. Если пользователь нажал на кнопку "Сохранить и закрыть", то начинается вариант использования;
2. При нажатии данной кнопки, все данные в полях для ввода данных нового контакта (новой записи) по категориям будут сохранены в соответствующих полях базы данных; 
3. Окно "Добавление контакта" будет закрыто;
4. Вариант использования завершается.    

<a name="Cancellation_and_closure"/>

## 2.4 Отмена и закрытие
**Описание.** Вариант использования "Отмена и закрытие" позволяет пользователю отменить сохранение данных нового контакта (новой записи) по категориям в соответствующие поля базы данных, с последующим закрытием окна "Добавление контакта".

**Предусловие** Пользователь ввёл или не ввёл данные в поля для ввода данных нового контакта (новой записи) по категориям и передумал их сохранять.

**Основной поток.**
1. Если пользователь нажал на кнопку "Отменить и закрыть", то начинается вариант использования;
2. При нажатии данной кнопки, все данные в полях для ввода данных нового контакта (новой записи) по категориям не будут сохранены в соответствующих полях базы данных; 
3. Окно "Добавление контакта" будет закрыто;
4. Вариант использования завершается.

<a name="Editing_a_contact"/>

## 2.5 Редактирование контакта
**Описание.** Вариант использования "Редактирование контакта" позволяет отредактировать содержимое полей активной записи.  

**Основной поток.**
1. Вариант использования начинается, когда пользователь нажимает на кнопку "Редактировать" на главной форме приложения;
2. Приложение отображает окно "Редактирование контакта", которое предлагает пользователю следующий функционал: редактировать данные в формах по соответствующим категориям; сохранить изменения в базу данных и закрыть окно "Редактирование контакта"; отменить изменения и закрыть окно "Редактирование контакта"; удаление активной записи из базы данных и закрыть окно "Редактирование контакта".
3. Пользователь редактирует содержимое полей активной записи по категориям.
4. Пользователь нажимает на кнопку "Сохранить и закрыть".
5. Приложение сохраняет отредактированное содержимое полей активной записи по категориям в базу данных.
6. Приложение закрывает окно "Редактирование контакта" и производит возврат на главную форму.
7. Вариант использования завершается.

**Дополнительная информация.** Пользователь имеет возможность отменить действие до нажатия кнопки "Сохранить и закрыть", при помощи нажатия кнопки "Отменить и закрыть".В случае если пользователь захочет удалить все данные активного контакта (активной записи) из базы данных, выполнится альтернативный поток А1. 

**Альтернативный поток А1**
1. Пользователь нажимает на кнопку "Удалить запись и закрыть".
2. Приложение удаляет все данные активного контакта (активной записи) из базы данных.
3. Приложение закрывает окно "Редактирование контакта" и производит возврат на главную форму.
4. Вариант использования завершается.

<a name="Editing_data_in_forms"/>

## 2.6 Редактирование данных в формах
**Описание.** Вариант использования "Редактирование данных в формах" позволяет пользователю редактировать данные активного контакта (активной записи) в соответствующих формах по категориям.

**Предусловие** Пользователь нажал на кнопку "Редактировать" на главной форме приложения.

**Основной поток.**
1. Вариант использования начинается, когда пользователь нажимает на кнопку "Редактировать" на главной форме приложения;
2. Пользователь редактирует данные активного контакта (активной записи) в соответствующих формах по категориям.
3. Вариант использования завершается.

<a name="Save_changes_and_close"/>

## 2.7 Сохранение изменений и закрытие
**Описание.** Вариант использования "Сохранение изменений и закрытие" позволяет пользователю сохранить измененения данных активного контакта (активной записи) в соответствующих полях по категориям, в соответствующих полях базы данных, с последующим закрытием окна "Редактирование контакта".

**Предусловие** Пользователь внёс изменения в данные активного контакта (активной записи) в соответствующих полях по категориям.

**Основной поток.**
1. Если пользователь нажал на кнопку "Сохранить и закрыть", то начинается вариант использования;
2. При нажатии данной кнопки, все изменнения данных активного контакта (активной записи) в соответствующих полях по категориям будут сохранены в соответствующих полях базы данных; 
3. Окно "Редактирование контакта" будет закрыто;
4. Вариант использования завершается.     

<a name="Cancel_changes_and_close"/>

## 2.8 Отмена изменений и закрытие
**Описание.** Вариант использования "Отмена и закрытие" позволяет пользователю отменить все изменнения данных активного контакта (активной записи) в соответствующих полях по категориям, с последующим закрытием окна "Редактирование контакта".

**Предусловие** Пользователь внёс или не внёс изменения в данные активного контакта (активной записи) в соответствующих полях по категориям.

**Основной поток.**
1. Если пользователь нажал на кнопку "Отменить и закрыть", то начинается вариант использования;
2. При нажатии данной кнопки, все изменнения данных активного контакта (активной записи) в соответствующих полях по категориям не будут сохранены в соответствующих полях базы данных; 
3. Окно "Редакироваание контакта" будет закрыто;
4. Вариант использования завершается.

<a name="Delete_entry_and_close"/>

## 2.9 Удаление записи и закрытие
**Описание.** Вариант использования "Удаление записи и закрытие" позволяет пользователю удалить все данные активного контакта (активной записи) из базы данных, с последующим закрытием окна "Редактирование контакта".

**Предусловие** Пользователь внёс или не внёс изменения в данные активного контакта (активной записи) в соответствующих полях по категориям.

**Основной поток.**
1. Если пользователь нажал на кнопку "Удалить запись и закрыть", то начинается вариант использования;
2. При нажатии данной кнопки, все данные активного контакта (активной записи) будут удалены из базы данных. 
3. Окно "Редакироваание контакта" будет закрыто;
4. Вариант использования завершается.

<a name="Opening_a_report"/>

## 2.10 Открытие отчёта
**Описание.** Вариант использования "Открытие отчёта" позволяет пользователю создать отчёт.

**Предусловие** Наличие активного контакта (активной записи) в телефонном справочнике.

**Основной поток.**
1. Вариант использования начинается, когда пользователь нажимает на кнопку "Открыть отчёт" на главной форме приложения;
2. При нажатии на данную кнопку, в шаблоне программы для работы с электронными таблицами Microsoft Excel, будет создан отчёт, где каждое поле соответствует полю активной записи на основании которой был создан данный отчёт.
3. Вариант использования завершается.  

<a name="Making_a_call"/>

## 2.11 Осуществление звонка
**Описание.** Вариант использования "Осуществление звонка" позволяет пользователю осуществить тональный набор одного из номеров телефона активного контакта (мобильный телефон, домашний телефон, рабочий телефон).

**Предусловие** Наличие активного контакта (активной записи) в телефонном справочнике.

**Основной поток.**
1. Вариант использования начинается тогда, когда пользователь нажимает на кнопку с соответствующей иконкой "Тональной набор" напротив нужного телефонного номера, на панели "Блок данных о контакте", главной формы приложения. Если в поле соответствующего телефонного номера содержится недопустимый для набора символ, то выполняется поток ошибки E1.
2. Перевести телефон в тональный режим.
3. Поднести телефон к динамику устройста.
4. Нажать кнопкку "ОК" в появившемся модальном окне. 
5. Вариант использования завершается. 

**Поток ошибки E1.**
1. В случае ошибки набора телефонного номера, будет выведено соответствующие модальное окно, содержащее информацию об обшике.
2. Вариант использования завершается.

<a name="Search,_sort_and_filter"/>

## 2.12 Поиск, сортировка и фильтрация
**Описание.** Вариант использования "Поиск, сортировка и фильтрация" позволяет пользователю найти, отсортировать и отфильтровать контакты в панели "Список контактов". 

**Предусловие** Наличие контактов в телефонном справочнике. 

**Основной поток.**
1. Вариант использования начинается, когда пользователь начинает взаимодействовать с панелью "Глобальный поиск" на главной форме приложения;
2. Данная панель предлагает пользователю следующий функционал: воспользоваться поисковой строкой; сбросить результаты поиска; выбрать критерий поиска по полям БД; выбрать критерий поиска по совпадению; отсортировать контакты по алфавиту; осуществить переход по найденным контактам.
3. Пользователь взаимодействует с элементами панели "Глобальный поиск" и получает результат в пенели "Список контактов".
4. Вариант использования завершается.
**Дополнительная информация.** Пользователь имеет возможность отменить результат поиска при помощи нажатия кнопки очистки содержимого поисковой строки. 

<a name="Using_the_search_bar"/>

## 2.13 Использование поисковой строки
**Описание.** Вариант использования "Использование поисковой строки" позволяет пользователю найти нужные контакты с помощью контекстного поиска.

**Предусловие** Наличие контактов в телефонном справочнике.

**Основной поток.**
1. Вариант использования начинается, когда пользователь активирует поисковую строку.
2. После активации поисковой строки, пользователь вводит свой запрос.
3. При изменении содержимого в поисковой строке, автоматически появляется результат глобального поиска на панели "Список контактов".
4. Вариант использования завершается.

<a name="Reset_search"/>

## 2.14 Сброс поиска
**Описание.** Пользователь имеет возможность отменить результат поиска при помощи нажатия кнопки очистки содержимого поисковой строки.

**Предусловие** Наличие содержимого в поисковой строке.

**Основной поток.**
1. Вариант использования начинается, когда пользователь нажимает на кнопку очистки содержимого поисковой строки.
2. При нажатии на данную кнопку, содержимое поисковой строки очищается и автоматически на панели "Список контактов" отображаются все контакты из базы данных.
3. Вариант использования завершается.  

<a name="Search_criterion_for_database_fields"/>

## 2.15 Критерий поиска по полям БД
**Описание.** Вариант использования "Критерий поиска по полям БД" позволяет пользователю выбрать критерий по которому вводить свой запрос в строку поиска.

**Предусловие** Наличие контактов в телефонном справочнике.

**Основной поток.**
1. Вариант использования начинается, когда пользователь активирует переключатель критерия поиска по полям базы данных.
2. После активации переключателя критерия поиска по полям базы данных, пользователь выбирает критерий поиска по полям базы данных.
3. При выборе критерия поиска по полям базы данных, автоматически появляется результат на панели "Список контактов".
4. Вариант использования завершается.

<a name="Matching_Criteria"/>

## 2.16 Критерий поиска по совпадению
**Описание.** Вариант использования "Критерий поиска по совпадению" позволяет пользователю выбрать критерий по которому вводить свой запрос в строку поиска.

**Предусловие** Наличие контактов в телефонном справочнике.

**Основной поток.**
1. Вариант использования начинается тогда, когда пользователь активирует переключатель критерия поиска по совпадению.
2. После активации переключателя критерия поиска совпадению, пользователь выбирает критерий поиска по совпадению.
3. При выборе критерия поиска по совпадению, автоматически появляется результат на панели "Список контактов".
4. Вариант использования завершается.

<a name="Sort_alphabetically"/>

## 2.17 Сортировка по алфавиту
**Описание.** Вариант использования "Сортировка по алфавиту" позволяет пользователю выбрать отсортировать список контактов по полю базы данных "Фамилия" (от А до Я - по алфавиту; от Я до А - в обратном алфавитном порядке).

**Предусловие** Наличие контактов в телефонном справочнике.

**Основной поток.**
1. Вариант использования начинается тогда, когда пользователь активирует переключатель сортировки по алфавиту.
2. После активации переключателя сортировки по алфавиту, пользователь выбирает в каком алфавитном порядке осуществить сортировку контактов.
3. При выборе порядка, автоматически появляется результат на панели "Список контактов".
4. Вариант использования завершается.

<a name="Navigation_by_found_contacts"/>

## 2.18 Переход по найденным контактам
**Описание.** Вариант использования "Переход по найденным контактам" позволяет пользователю получить возможность перехода по списку контактов при помощи соответствующих кнопок.По умолчанию отображена первая запись в списке контактов.

**Предусловие** Наличие контактов в телефонном справочнике.

**Основной поток.**
1. Вариант использования начинается тогда, когда пользователь выберет нужную кнопку перехода по найденным контактам.
2. После нажатия на выбранную кнопку, осуществляется переход по списку контактов в соответствии с функционалом кнопки перехода.
3. Выбранный контакт (запись) становится активной. Данные этого контакта отображаются в соответствующих полях на панели "Блок данных о контакте".
4. Вариант использования завершается.